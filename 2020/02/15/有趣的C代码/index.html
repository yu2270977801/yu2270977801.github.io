<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>有趣的C代码 | Mr.余</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一：简单的贪吃蛇#include &lt;windows.h&gt;#include &lt;conio.h&gt;#include &lt;stdio.h&gt;int main(){    int hX &#x3D; 0,hY &#x3D; 0,len &#x3D; 4,map[900] &#x3D; {0},c&#x3D; ‘d’,cl &#x3D; ‘d’,i &#x3D; 0;    srand((unsigned)malloc(!system(“mode">
<meta property="og:type" content="article">
<meta property="og:title" content="有趣的C代码">
<meta property="og:url" content="http://yoursite.com/2020/02/15/%E6%9C%89%E8%B6%A3%E7%9A%84C%E4%BB%A3%E7%A0%81/index.html">
<meta property="og:site_name" content="Mr.余">
<meta property="og:description" content="一：简单的贪吃蛇#include &lt;windows.h&gt;#include &lt;conio.h&gt;#include &lt;stdio.h&gt;int main(){    int hX &#x3D; 0,hY &#x3D; 0,len &#x3D; 4,map[900] &#x3D; {0},c&#x3D; ‘d’,cl &#x3D; ‘d’,i &#x3D; 0;    srand((unsigned)malloc(!system(“mode">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-02-15T12:28:49.000Z">
<meta property="article:modified_time" content="2020-02-15T12:34:23.646Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Mr.余" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mr.余</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-有趣的C代码" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/15/%E6%9C%89%E8%B6%A3%E7%9A%84C%E4%BB%A3%E7%A0%81/" class="article-date">
  <time datetime="2020-02-15T12:28:49.000Z" itemprop="datePublished">2020-02-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      有趣的C代码
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一：简单的贪吃蛇<br>#include &lt;windows.h&gt;<br>#include &lt;conio.h&gt;<br>#include &lt;stdio.h&gt;<br>int main()<br>{<br>    int hX = 0,hY = 0,len = 4,map[900] = {0},c= ‘d’,cl = ‘d’,i = 0;<br>    srand((unsigned)malloc(!system(“mode con:cols=60 lines=30”)));<br>    for(map[rand()%900] = -1; 1; Sleep(100))<br>    {<br>        if(_kbhit() &amp;&amp; (cl = getch()) &amp;&amp; cl &lt; 97 ? cl += 32 : 1)<br>        {<br>            if(cl == ‘a’ &amp;&amp; c != ‘d’ || cl == ‘d’&amp;&amp; c !=’a’||cl ==’w’ &amp;&amp; c != ‘s’ || cl == ‘s’ &amp;&amp; c != ‘w’)<br>                c = cl;<br>        }<br>        if(c == ‘a’ &amp;&amp; –hX &lt; 0 || c == ‘d’ &amp;&amp; ++hX == 30 || c == ‘w’ &amp;&amp; –hY &lt; 0 || c == ‘s’ &amp;&amp; ++hY == 30)<br>            exit(0);<br>        if(map[hY*30+hX] &amp;&amp; (map[hY * 30 + hX] &gt; 0 ? exit(0), 1 : ++len))<br>        {<br>            for(i =rand()%90;map[i] || !(map[i] = -1); i =rand() % 900);<br>        }<br>        else<br>        {<br>            for(i = 0; i &lt; 900; i++)<br>                map[i] &gt; 0 ? (map[i] -= 1) : 0;<br>        }<br>        for(system(“cls”), map[hY * 30 + hX] = len, i=0; i &lt; 900 ;i++)<br>            printf(map[i] &gt; 0 ? “()” : map[i] ? “00” : “  “);<br>    }<br>    return 0;<br>}</p>
<p>二：代码雨<br>#include &lt;stdio.h&gt;<br>#include &lt;windows.h&gt;<br>#include &lt;graphics.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br>#include &lt;mmsystem.h&gt;//导入声音头文件<br>#pragma comment(lib,”Winmm.lib”)</p>
<p>#define SCREEN_WIDTH 1366<br>#define SCREEN_HEIGHT 768<br>#define DEF_RAIN_NUM 91  //雨的列数</p>
<p>//数字雨开始的位置<br>int g_nRainPos[DEF_RAIN_NUM] = { 0 };</p>
<p>//数字雨的字符串<br>char g_strRain[DEF_RAIN_NUM][10] = { 0 };</p>
<p>//随机产生一个字母<br>char CreateRandomNum() {<br>    char nRandomNum = 0;</p>
<pre><code>while( 1 ) {
    nRandomNum = rand() % 123;   //随机产生0~122的一个字符

    if( ( nRandomNum &gt;= 65 &amp;&amp; nRandomNum &lt;= 90 ) || nRandomNum &gt;= 97 ) {
        return nRandomNum;
    }
}</code></pre><p>}</p>
<p>//随机产生数字雨的开始位置<br>void InitPos() {<br>    for( int i = 0; i &lt; DEF_RAIN_NUM; i++ ) {<br>        g_nRainPos[i] = rand() % SCREEN_HEIGHT;<br>    }<br>}</p>
<p>//初始化数字雨<br>void InitNumRain() {<br>    for( int i = 0; i &lt; DEF_RAIN_NUM; i++ ) {<br>        for( int j = 0; j &lt; 10; j++ ) {<br>            g_strRain[i][j] = CreateRandomNum();<br>        }<br>    }<br>}</p>
<p>//显示雨<br>void ShowNumRain() {<br>    for( int i = 0; i &lt; DEF_RAIN_NUM; i++ ) {<br>        //设置字体颜色<br>        settextcolor( RGB( 255, 255, 255 ) );  //白色<br>        for( int j = 0; j &lt; 10; j++ ) {<br>            outtextxy( i * 15, g_nRainPos[i] - 15 * j, g_strRain[i][j] );<br>            settextcolor( RGB( 0, 255 - 28 * j, 0 ) );<br>        }<br>    }</p>
<pre><code>for(int i = 0; i &lt; DEF_RAIN_NUM; i++ ) 
{
    g_nRainPos[i] += 15;    //屏幕刷新后雨的位置下降15
}

for(int i = 0; i &lt; DEF_RAIN_NUM; i++ ) 
{
    if( g_nRainPos[i] - 10 * 15 &gt;= SCREEN_HEIGHT ) 
    {
        g_nRainPos[i] = 0;
    }
}</code></pre><p>}<br>//播放音乐<br>void music()<br>{<br>    PlaySound(TEXT(“sounds\黑客帝国.wav”),NULL,SND_FILENAME | SND_ASYNC | SND_LOOP);<br>    //system(“pause”);是暂停的意思，等待用户信号；不然控制台程序会一闪即过，你来不及看到执行结果。<br>}<br>int main()<br>{</p>
<pre><code>srand((unsigned)time(NULL));
initgraph( SCREEN_WIDTH, SCREEN_HEIGHT );
InitPos();
InitNumRain();
BeginBatchDraw();
music();

while( 1 ) 
{
    InitNumRain();
    ShowNumRain();  
    FlushBatchDraw();
    Sleep( 100 );   //延时0.1秒
    cleardevice();  //清空屏幕
}

EndBatchDraw();
closegraph();
return 0;</code></pre><p>}</p>
<p>三：俄罗斯方块（有点问题）<br>#include &lt;windows.h&gt;<br>#include &lt;conio.h&gt;<br>int T, X, Y, c = 0, i, j, k,map[250]={0}, node[28][4]={<br>//形状，坐标，输入&amp;循环变量，node地图，node节点，节点储存7种形状<em>4个方向</em>4个节点的宽<em>Y+X的数据<br>-1,0,1,-11,10,0,-10,-9,11,-1,0,1,9,10,0,-10, -1,0,1,-9,10,11,0,-10,9,-1,0,1,<br>10,0,-10,-11, 9,10,0,1,11,0,1,-10,9,10,0,1,11,0,1,-10,10,11,-1,0,10,0,1,-9,<br>10,11,-1,0,10,0,1,-9,-1,0,1,-10,10,0,1,-10,10,-1,0,1,10,-1,0,-10,20,10,0,-10,<br>-1,0,1,2,20,10,0,-10,-1,0,1,2,10,11,0,1,10,11,0,1,10,11,0,1,10,11,0,1};<br>//移动<br>int move(int *v, int i)<br>{<br>    for(</em>v += 1, i = 0; i &lt; 4 &amp;&amp; (j = (node[T][i] + 11) % 10 - 1 + X, 1); i++)<br>//循环遍历4个节点，j=节点的X坐标<br>        if((j &lt; 0 || 9 &lt; j || 24 &lt; (node[T][i] + 11) / 10 - 1 + Y || map[node[T][i] + Y * 10 + X]) &amp;&amp; (*v -= 1, 1))//判断是否越界<br>            //判断当前是否有方块；前面有一项为真，则撤回移动，并返回0<br>            return 0;<br>    return 1;<br>}<br>//下落<br>void down()<br>{<br>    if (move(&amp;Y, 1) || Y &lt; 2 &amp;&amp; (exit(!_getch()), 0))return;<br>    for(i = 0; i &lt; 4 &amp;&amp; (map[node[T][i] + Y * 10 + X] = 1); i++);<br>    for(i = 250, k = 0; i &gt; 9 || (c = 0); i % 10 == 0 &amp;&amp; (k = 0))<br>        if(–i, (k += map[i] == 10))<br>        {<br>            for(j = i + 9; j &gt; 9 || (i += 10, 0); map[j] = map[j - 10], j–);<br>        }<br>}<br>int main()<br>{<br>    srand((unsigned)malloc(!system(“mode con:cols=20 lines=25”)));<br>    for(;c || (X = 4, Y = 1, T = rand() % 7 * 4, c = 1); down(),Sleep(150))<br>    {<br>        if(_kbhit() &amp;&amp; (c = _getch()))<br>        {<br>            if(c == ‘w’ || c ==’W’)move(&amp;T,(T % 4) &lt; 3 ? 1 : -3);<br>            else if(c == ‘d’ || c == ‘D’)<br>                X &lt; 9 &amp;&amp; move(&amp;X,1);<br>            else if(c == ‘a’ || c == ‘A’)<br>                0 &lt; X &amp;&amp; move(&amp;X,-1);<br>            else if(c == ‘s’ || c == ‘S’)<br>                down();<br>        }<br>        for(i = system(“cls”); i &lt; 4 &amp;&amp; (map[node[T][i] + Y * 10 + X] = -1); i++);<br>        for(i = 0; i &lt; 250; i++)<br>            _cputs(map[i]? “[]”:” “),map[i] += map[i] &lt; 0;<br>    }<br>}</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/02/15/%E6%9C%89%E8%B6%A3%E7%9A%84C%E4%BB%A3%E7%A0%81/" data-id="ck6nl2y5w0002ygtha6ah1gti" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/02/13/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">我的博客</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/02/15/%E6%9C%89%E8%B6%A3%E7%9A%84C%E4%BB%A3%E7%A0%81/">有趣的C代码</a>
          </li>
        
          <li>
            <a href="/2020/02/13/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2/">我的博客</a>
          </li>
        
          <li>
            <a href="/2020/02/13/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>